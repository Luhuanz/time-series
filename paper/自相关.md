# 自相关

自相关（Autocorrelation），也叫序列相关，是**一个信号与其自身在不同时间点的互相关**。自相关是对**同一信号在不同时间的两次观察，通过对比来评判两者的相似程度。** 自相关函数就是信号$x (t)$ 和它的时移信号 $x (t-τ) $的乘积平均值。它是时移变量 τ 的函数。

 “自相关” 这种数据处理方法，可以发现隐藏在杂乱信号中的有用信息。这个能力是相当重要的，因为工程实际中的信号，不可避免地要受到各种干扰，严重的时候会完全淹没真正有用的数据。自相关能找出重复信息（被噪声掩盖的周期信号），或识别隐含在信号谐波频率中消失的基频，它常用于时域信号的分析。


$$
R_{x x}(\tau)=\int_{-\infty}^{+\infty} x(t) x(t+\tau) d t
$$
这个公式中，*τ* 是进行 “比较” 时移动的 “步距”。而整个公式的意思是 “将 *x*(*t*) 进行时移，得到 *x*(*t*+*τ*)，然后将其与 *x*(*t*) 在整个范围内逐点进行相乘，得到一条新曲线，这条曲线下方所围成的面积就是一个 R 值。改变 *τ* 的取值，再来一次，……，如此不断重复，R 的一系列值将成为 R (*τ*) 曲线，这就是自相关曲线”。

自相关函数就是信号 *x*(*t*) 和它的时移信号 *x*(*t*+*τ*) 乘积的平均值，它是时移变量 *τ* 的函数。

如果能明确地看出原始数据有周期性，那么就不必在整个数轴范围（-∞~+∞）内进行移动比较了，只需要移动一个周期（T）即可：
$$
R_{x x}(\tau)=\lim _{\mathrm{T} \rightarrow \infty} \frac{1}{\mathrm{~T}} \int_0^{\mathrm{T}} x(t) x(t+\tau) d t
$$
所谓相关性，从字面的意思就是指两组数据，把它们相互比较，看看有没有关联。**自相关是自己和自己比，互相关呢，自然就是两个不同信号之间相互比**：
$$
\begin{gathered}
R_{x y}(\tau)=\int_{-\infty}^{+\infty} x(t) y(t+\tau) d t \\
R_{x y}(\tau)=\lim _{\mathrm{T} \rightarrow \infty} \frac{1}{\mathrm{~T}} \int_0^{\mathrm{T}} x(t) y(t+\tau) d t
\end{gathered}
$$
例子  
$$
\begin{aligned}
& \{x 1, x 2, x 3, x 4, x 5, x 6, x 7, x 8, x 9, x 10\}   \text{原始数据} \\
& \{x 1, x 2, x 3, x 4, x 5, x 6, x 7, x 8\}    求滞后数为2的自相关系数 \\
& \{x 3, x 4, x 5, x 6, x 7, x 8, x 9, x 10\} \text {一列为1-8，另一列为3-10 } \\
&
\end{aligned}
$$
这组数据是求滞后数为 2 的自相关系数，则变成求 ${x_1,x_2,...,x_8}$ 和 ${x_3,x_4,...,x_{10}}$ 两者的 “相关系数”，相关系数打引号是因为这个相关系数的公式和以往的有点不一样。下面看一下公式的对比：

$\sum_{i=1}^{n-h} \frac{\left(x_i-\hat{\mu}\right)\left(x_{i+h}-\hat{\mu}\right)}{\sum_{i=1}^n\left(x_i-\hat{\mu}\right)^2}$ ----------------------------自相关系数
$\sum_{i=1}^n \frac{\left(x_i-\hat{\mu}_1\right)\left(y_i-\hat{\mu}_2\right)}{\sum_{i=1}^n\left(\sqrt{\left(x_i-\hat{\mu}_1\right)^2\left(y_i-\hat{\mu}_2\right)^2}\right)}$ - ---------------相关系数